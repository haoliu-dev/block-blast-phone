# Block Blast

ç§»åŠ¨ç«¯æ–¹å—æ¶ˆé™¤æ¸¸æˆ (Block Blast) - ä½¿ç”¨ Bun + TypeScript + HTML5 Canvas å¼€å‘ã€‚

## ç‰¹æ€§

- ğŸ® ç»å…¸æ–¹å—æ¶ˆé™¤ç©æ³•
- ğŸ“± ç§»åŠ¨ç«¯ä¼˜å…ˆè®¾è®¡ï¼Œæ”¯æŒè§¦å±æ“ä½œ
- ğŸ§ª å®Œæ•´çš„å•å…ƒæµ‹è¯•å’Œ E2E æµ‹è¯•
- ğŸ”Š éŸ³æ•ˆç³»ç»Ÿ
- ğŸ’¾ æœ¬åœ°å­˜å‚¨ï¼ˆæœ€é«˜åˆ†ï¼‰

## æŠ€æœ¯æ ˆ

- **è¿è¡Œæ—¶**: Bun
- **è¯­è¨€**: TypeScript (strict mode)
- **æ¸²æŸ“**: HTML5 Canvas
- **æµ‹è¯•**: Bun (å•å…ƒæµ‹è¯•) + Playwright (E2E)

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
bun install
```

### å¼€å‘æ¨¡å¼

```bash
bun run dev
```

è®¿é—® http://localhost:3000

### æ„å»º

```bash
bun run build
```

## æµ‹è¯•

### å•å…ƒæµ‹è¯•

```bash
bun test src/logic/
```

### E2E æµ‹è¯•

```bash
# å¯åŠ¨æœåŠ¡å™¨
python3 -m http.server 3000 &

# è¿è¡Œæµ‹è¯•
npx playwright test

# åœæ­¢æœåŠ¡å™¨
pkill -f "python3 -m http.server"
```

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ logic/           # æ¸¸æˆé€»è¾‘ï¼ˆçº¯å‡½æ•°ï¼Œå¯å•å…ƒæµ‹è¯•ï¼‰
â”‚   â”œâ”€â”€ types.ts    # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ shapes.ts   # å½¢çŠ¶ç”Ÿæˆ
â”‚   â”œâ”€â”€ state.ts    # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ placement.ts # æ”¾ç½®é€»è¾‘
â”‚   â”œâ”€â”€ lineClear.ts # è¡Œåˆ—æ¶ˆé™¤
â”‚   â”œâ”€â”€ scoring.ts  # å¾—åˆ†è®¡ç®—
â”‚   â”œâ”€â”€ gameover.ts # æ¸¸æˆç»“æŸæ£€æµ‹
â”‚   â””â”€â”€ reducer.ts  # çŠ¶æ€æœº
â”œâ”€â”€ renderer/       # Canvas æ¸²æŸ“å±‚
â”œâ”€â”€ audio/          # éŸ³æ•ˆç³»ç»Ÿ
â”œâ”€â”€ storage/        # æœ¬åœ°å­˜å‚¨
â””â”€â”€ index.ts        # å…¥å£æ–‡ä»¶
tests/
â””â”€â”€ e2e/           # Playwright E2E æµ‹è¯•
```

## å¼€å‘è§„èŒƒ

- ä½¿ç”¨ `pointerdown` / `pointermove` / `pointerup` å¤„ç†è§¦å±
- ç¦æ­¢ä½¿ç”¨ `any`ï¼Œæ‰€æœ‰ç±»å‹å¿…é¡»æ˜¾å¼å®šä¹‰
- æ¸¸æˆé€»è¾‘ä¸æ¸²æŸ“å±‚å¿…é¡»è§£è€¦
- æ‰€æœ‰äº¤äº’å…ƒç´ å¿…é¡»æœ‰ `data-testid` å±æ€§
